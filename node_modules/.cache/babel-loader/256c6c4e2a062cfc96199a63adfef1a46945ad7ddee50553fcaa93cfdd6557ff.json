{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Caio\\\\FinalProject\\\\Front\\\\WhereToGo-Front\\\\src\\\\pages\\\\Dashboard\\\\index.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport Input from \"../../components/elements/Input\";\nimport Label from \"../../components/elements/Label\";\nimport SubmitButton from \"../../components/elements/SubmitButton\";\nimport Textarea from \"../../components/elements/Textarea\";\nimport Form from \"../../components/layouts/Form\";\nimport Modal from \"../../components/layouts/Modal\";\nimport Profile from \"../../components/layouts/Profile\";\nimport Travels from \"../../components/lists/Travels\";\nimport { useUser } from \"../../providers/user\";\nimport travelsServices from \"../../services/travels\";\nimport styles from \"./styles.module.css\";\n\n//VALIDATION FORM\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport { createTravelSchema } from \"../../utils/schemas\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DashboardPage = () => {\n  _s();\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    resolver: yupResolver(createTravelSchema)\n  });\n  const [travels, setTravels] = useState([]);\n  const {\n    userId\n  } = useUser();\n  const navigate = useNavigate();\n  const [modalIsOpen, setModalIsOpen] = useState(false);\n  const onSubmit = async data => {\n    const newTravel = await travelsServices.create({\n      userId,\n      ...data,\n      startDate: new Date(data.startDate).toISOString(),\n      endDate: new Date(data.endDate).toISOString()\n    });\n    setTravels(prevState => [...prevState, newTravel]);\n    setModalIsOpen(false);\n  };\n  const openModal = () => {\n    setModalIsOpen(true);\n  };\n  const closeModal = () => {\n    setModalIsOpen(false);\n  };\n  useEffect(() => {\n    if (!userId) {\n      navigate(\"/\");\n    }\n  }, [userId]);\n  useEffect(() => {\n    const loadTravels = async () => {\n      const travels = await travelsServices.list();\n      setTravels(travels);\n    };\n    loadTravels();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(Profile, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: styles.main,\n      children: [!travels.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.primaryTravel,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Voc\\xEA ainda n\\xE3o tem nenhuma viagem!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          className: styles.btn,\n          to: `/dashboard/1`,\n          children: \"Desejo criar minha primeira viagem\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(Travels, {\n          travels: travels,\n          openModal: openModal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)\n      }, void 0, false), modalIsOpen && /*#__PURE__*/_jsxDEV(Modal, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          title: \"Criar Viagem\",\n          onSubmit: handleSubmit(onSubmit),\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            htmlFor: \"city\",\n            children: \"T\\xEDtulo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"text\",\n            title: \"T\\xEDtulo da Viagem\",\n            name: \"title\",\n            placeholder: \"D\\xEA um nome \\xE0 sua viagem\",\n            required: true,\n            register: register\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.dates,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.dateContainer,\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                htmlFor: \"startDate\",\n                children: \"Data de In\\xEDcio\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"date\",\n                title: \"Data de In\\xEDcio\",\n                name: \"startDate\",\n                placeholder: \"\",\n                required: true,\n                register: register\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.dateContainer,\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                htmlFor: \"endDate\",\n                children: \"Data de T\\xE9rmino\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"date\",\n                title: \"Data de T\\xE9rmino\",\n                name: \"endDate\",\n                placeholder: \"\",\n                required: true,\n                register: register\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Label, {\n            htmlFor: \"notes\",\n            children: \"Descri\\xE7\\xE3o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n            type: \"text\",\n            title: \"Descri\\xE7\\xE3o\",\n            name: \"description\",\n            placeholder: \"D\\xEA uma descri\\xE7\\xE3o \\xE0 sua viagem\",\n            register: register\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.btnsContainer,\n            children: [/*#__PURE__*/_jsxDEV(SubmitButton, {\n              title: \"Salvar Viagem\",\n              children: \"Salvar Viagem\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.close,\n              type: \"button\",\n              onClick: closeModal,\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n_s(DashboardPage, \"2FLiYCZder8eLO50FDnBwIITpc4=\", false, function () {\n  return [useForm, useUser, useNavigate];\n});\n_c = DashboardPage;\nexport default DashboardPage;\nvar _c;\n$RefreshReg$(_c, \"DashboardPage\");","map":{"version":3,"names":["useEffect","useState","Link","useNavigate","Input","Label","SubmitButton","Textarea","Form","Modal","Profile","Travels","useUser","travelsServices","styles","useForm","yupResolver","createTravelSchema","DashboardPage","register","handleSubmit","formState","errors","resolver","travels","setTravels","userId","navigate","modalIsOpen","setModalIsOpen","onSubmit","data","newTravel","create","startDate","Date","toISOString","endDate","prevState","openModal","closeModal","loadTravels","list","container","main","length","primaryTravel","btn","dates","dateContainer","btnsContainer","close"],"sources":["C:/Users/Caio/FinalProject/Front/WhereToGo-Front/src/pages/Dashboard/index.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport Input from \"../../components/elements/Input\";\r\nimport Label from \"../../components/elements/Label\";\r\nimport SubmitButton from \"../../components/elements/SubmitButton\";\r\nimport Textarea from \"../../components/elements/Textarea\";\r\nimport Form from \"../../components/layouts/Form\";\r\nimport Modal from \"../../components/layouts/Modal\";\r\nimport Profile from \"../../components/layouts/Profile\";\r\nimport Travels from \"../../components/lists/Travels\";\r\nimport { useUser } from \"../../providers/user\";\r\nimport travelsServices from \"../../services/travels\";\r\nimport styles from \"./styles.module.css\";\r\n\r\n//VALIDATION FORM\r\nimport { useForm } from \"react-hook-form\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport { createTravelSchema } from \"../../utils/schemas\";\r\n\r\nconst DashboardPage = () => {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm({\r\n    resolver: yupResolver(createTravelSchema),\r\n  });\r\n\r\n  const [travels, setTravels] = useState([]);\r\n  const { userId } = useUser();\r\n  const navigate = useNavigate();\r\n\r\n  const [modalIsOpen, setModalIsOpen] = useState(false);\r\n\r\n  const onSubmit = async (data) => {\r\n    const newTravel = await travelsServices.create({\r\n      userId,\r\n      ...data,\r\n      startDate: new Date(data.startDate).toISOString(),\r\n      endDate: new Date(data.endDate).toISOString(),\r\n    });\r\n    setTravels((prevState) => [...prevState, newTravel]);\r\n    setModalIsOpen(false);\r\n  };\r\n\r\n  const openModal = () => {\r\n    setModalIsOpen(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setModalIsOpen(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!userId) {\r\n      navigate(\"/\");\r\n    }\r\n  }, [userId]);\r\n\r\n  useEffect(() => {\r\n    const loadTravels = async () => {\r\n      const travels = await travelsServices.list();\r\n      setTravels(travels);\r\n    };\r\n\r\n    loadTravels();\r\n  }, []);\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <Profile />\r\n      <main className={styles.main}>\r\n        {!travels.length ? (\r\n          <div className={styles.primaryTravel}>\r\n            <h2>Você ainda não tem nenhuma viagem!</h2>\r\n            <Link className={styles.btn} to={`/dashboard/1`}>\r\n              Desejo criar minha primeira viagem\r\n            </Link>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <Travels travels={travels} openModal={openModal} />\r\n          </>\r\n        )}\r\n        {modalIsOpen && (\r\n          <Modal>\r\n            <Form title=\"Criar Viagem\" onSubmit={handleSubmit(onSubmit)}>\r\n              <Label htmlFor=\"city\">Título</Label>\r\n              <Input\r\n                type=\"text\"\r\n                title=\"Título da Viagem\"\r\n                name=\"title\"\r\n                placeholder=\"Dê um nome à sua viagem\"\r\n                required\r\n                register={register}\r\n              />\r\n\r\n              <div className={styles.dates}>\r\n                <div className={styles.dateContainer}>\r\n                  <Label htmlFor=\"startDate\">Data de Início</Label>\r\n                  <Input\r\n                    type=\"date\"\r\n                    title=\"Data de Início\"\r\n                    name=\"startDate\"\r\n                    placeholder=\"\"\r\n                    required\r\n                    register={register}\r\n                  />\r\n                </div>\r\n                <div className={styles.dateContainer}>\r\n                  <Label htmlFor=\"endDate\">Data de Término</Label>\r\n                  <Input\r\n                    type=\"date\"\r\n                    title=\"Data de Término\"\r\n                    name=\"endDate\"\r\n                    placeholder=\"\"\r\n                    required\r\n                    register={register}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <Label htmlFor=\"notes\">Descrição</Label>\r\n              <Textarea\r\n                type=\"text\"\r\n                title=\"Descrição\"\r\n                name=\"description\"\r\n                placeholder=\"Dê uma descrição à sua viagem\"\r\n                register={register}\r\n              />\r\n\r\n              <div className={styles.btnsContainer}>\r\n                <SubmitButton title=\"Salvar Viagem\">Salvar Viagem</SubmitButton>\r\n                <button\r\n                  className={styles.close}\r\n                  type=\"button\"\r\n                  onClick={closeModal}\r\n                >\r\n                  Cancelar\r\n                </button>\r\n              </div>\r\n            </Form>\r\n          </Modal>\r\n        )}\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}